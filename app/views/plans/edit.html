<h2>
  <span ng-hide="isNew">Edit</span>
  <span ng-show="isNew">New</span>
  Plan
</h2>

<form role="form" name="editPlan">
  <div class="row">
    <div class="col-md-12">
      <div class="form-group">
        <label for="plan_name">Plan Name</label>
        <input type="text" class="form-control" id="plan_name" ng-model="plan.name" autofocus key-save="save()">
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label for="plan_start">Start Day</label>
        <input type="date" class="form-control" id="plan_start" ng-model="plan.days.start" key-save="save()">
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label for="plan_end">End Day</label>
        <input type="date" class="form-control" id="plan_end" ng-model="plan.days.end" key-save="save()">
      </div>
    </div>
  </div>
  <span class="help-block">
    Start and end days are both inclusive. If you change them, your meals will remain on their assigned days.
  </span>
  <button class="btn btn-primary" ng-click="save()">Save Changes</button>
  <button class="btn btn-link" ng-click="cancel()">Cancel</button>
</form>

<div ng-hide="isNew">
  <h3>Scheduled Meals</h3>
  <p>Meals in <span class="hidden_meal">red</span> fall outside the current day range for
  the plan and won't be shown.</p>
  <dl class="dl-horizontal" ng-controller="ScheduledMealsCtrl">
    <span ng-repeat="day in mealsByDay"
          ng-hide="day.meals.length == 0"
          ng-class="{hidden_meal: isDayHidden(day.day)}">
      <dt>{{day.day}}</dt>
      <dd>
        <ul>
          <li ng-repeat="meal in day.meals">{{meal.entree.name}} and {{meal.side.name}}</li>
        </ul>
      </dd>
    </span>
  </dl>
</div>
